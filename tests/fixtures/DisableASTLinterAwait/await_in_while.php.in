<?hh // strict
/*
 * Copyright (c) 2017, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional
 * grant of patent rights can be found in the PATENTS file in the same
 * directory.
 *
 */

async function spin_forever_async(
): Awaitable<void> {
  while(true) {
    /* HHAST_FIXME[DontAwaitInALoop] */
    await HH\Asio\later();
  }
}

// This one should fail since the FIXME is outside the loop.
async function spin_forever_async_fail(
): Awaitable<void> {
  /* HHAST_FIXME[DontAwaitInALoop] */
  while(true) await HH\Asio\later();
}