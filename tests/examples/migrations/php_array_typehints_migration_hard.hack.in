/*
 *  Copyright (c) 2017-present, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the MIT license found in the
 *  LICENSE file in the root directory of this source tree.
 *
 */

// anything except params and return types is ignored
type V = array<int>;
type D = array<string, bool>;

function foo(
  array<int> $a,
  array<string, bool> $b,
  // should not remove existing <<__Soft>>
  <<__Soft>> array<float> $already_soft,
  <<Foo>> array<int> $foo,
  <<Foo, Bar>> array<int> $foo_bar,
  <<
    Foo
  >> array<int> $foo2,
  <<
    Foo,
    Bar
  >> array<int> $foo_bar2,
  <<
    Foo,
    Bar,
  >> array<int> $foo_bar3,
  /* 1 */ array<bool> /* 2 */ $x, // 3
  /* 1 */ <<__Soft>> /* 2 */ array<bool> /* 3 */ $y, // 4
  /* 1 */ << /* 2 */ Foo, /* 3 */ Bar /* 4 */ >> /* 5 */ array<int> $z, // 5
  /* 1 */ << // 2
    /* 3 */ Foo, // 4
    /* 5 */ Bar, // 6
  /* 7 */ >> // 8
  /* 9 */ array<int, array<array<string, bool>>> /* 10 */ $analbumcover, // 11
): array<string, array<bool>> {
  return darray[];
}

function already_soft(): <<__Soft>> array<int> {
  return varray[];
}

function untyped($foo) {}

final class Foo implements HH\ParameterAttribute {};
final class Bar implements HH\ParameterAttribute {};
